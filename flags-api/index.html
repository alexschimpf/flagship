<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Alex Schimpf">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Flags API - Flagship</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../css/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Flags API";
    var mkdocs_page_input_path = "flags-api.md";
    var mkdocs_page_url = "/flagship/flags-api/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Flagship</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="tocbase current">
    
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="..">Overview</a>
  </li>
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../installation/">Installation</a>
  </li>
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../projects/">Projects</a>
  </li>
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../context-fields/">Context Fields</a>
  </li>
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../feature-flags/">Feature Flags</a>
  </li>
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../users/">Users</a>
  </li>
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../sdk/">SDK</a>
  </li>
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../ui/">UI</a>
  </li>
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../admin-api/">Admin API</a>
  </li>
    
      


  
    
    <li class="navtree toctree-l1 page current">
      <a class="current" href="./">
        Flags API
      </a>
    </li>
    
      



  <li class="toctree-l1 current">
    <ul class="subnav-l1 current">
    
      
        <li class="toctree-l2">
          <a class="toctree-l3" href="#infrastructure">Infrastructure</a>
        </li>
    
      
        <li class="toctree-l2">
          <a class="toctree-l3" href="#dependencies">Dependencies</a>
        </li>
    
      
          

  <li class="toctree-l2">
    <a href="#api">
      API
      <span class="toctree-expand"></span>
    </a>
  </li>



  <li class="toctree-l2">
    <ul class="subnav-l2 toc-hidden">
    
      
        <li class="toctree-l3">
          <a class="toctree-l4" href="#body">Body</a>
        </li>
    
      
        <li class="toctree-l3">
          <a class="toctree-l4" href="#query-parameters">Query Parameters</a>
        </li>
    
      
        <li class="toctree-l3">
          <a class="toctree-l4" href="#headers">Headers</a>
        </li>
    
    </ul>
  </li>

      
    
      
        <li class="toctree-l2">
          <a class="toctree-l3" href="#installation">Installation</a>
        </li>
    
    </ul>
  </li>


  
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../development/">Development</a>
  </li>
    
  </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Flagship</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Flags API</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="flags-api">Flags API</h1>
<p>The Flags API is what your system interacts within to determine which feature flags are enabled for a given context.
You can use an <a href="sdk">SDK</a> if there is one avaiable for your programming language of choice. It should
be trivial to support other programming languages or use your own implementation.</p>
<hr>

<h2 id="infrastructure">Infrastructure</h2>
<p>The Flags API is written in Python 3.12 and runs on FastAPI.</p>
<hr>

<h2 id="dependencies">Dependencies</h2>
<p>The only external dependency for the Flags API is Redis Cluster.
Redis Cluser stores cached data related to projects and feature flags.</p>
<hr>

<h2 id="api">API</h2>
<p>To get all feature flags enabled for a given context, you can use the following endpoint:</p>
<pre><code>POST /feature_flags
</code></pre>
<h3 id="body">Body</h3>
<p>The POST body should contain the context data in JSON format. The keys should match the field keys of context fields you
have created for your Flagship project. The values should match the value types of those context fields.</p>
<h3 id="query-parameters">Query Parameters</h3>
<ul>
<li><code>project_id</code><ul>
<li>You can find this from the Flagship UI.</li>
</ul>
</li>
<li><code>user_key</code><ul>
<li>This is how you uniquely identify your users.</li>
<li>For example, this could be a UUID or numeric user ID.</li>
</ul>
</li>
</ul>
<h3 id="headers">Headers</h3>
<ul>
<li><code>FLAGSHIP-SIGNATURE</code><ul>
<li>This is how Flags API requests are authenticated.</li>
<li>This can be generated by an <a href="sdk">SDK</a>.</li>
<li>It is an HMAC signature based on the project's private key and the user key.</li>
</ul>
</li>
</ul>
<hr>

<h2 id="installation">Installation</h2>
<p>You can use the following Docker image from Dockerhub:</p>
<pre><code>alexschimpf/flagship-flags:latest
</code></pre>
<p>You can read more about configuring this server in <a href="/installation">Installation</a>.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../development/" class="btn btn-neutral float-right" title="Development">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../admin-api/" class="btn btn-neutral" title="Admin API"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../admin-api/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../development/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
